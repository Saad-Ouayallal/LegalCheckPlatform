{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/card\";\nfunction InputFormComponent_label_4_label_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Max required number is \", control_r3.validators.max, \". \");\n  }\n}\nfunction InputFormComponent_label_4_label_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Min required number is \", control_r3.validators.min, \". \");\n  }\n}\nfunction InputFormComponent_label_4_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\")(1, \"li\")(2, \"span\", 5)(3, \"label\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 8);\n    i0.ɵɵtemplate(8, InputFormComponent_label_4_label_1_div_8_Template, 2, 1, \"div\", 9);\n    i0.ɵɵtemplate(9, InputFormComponent_label_4_label_1_div_9_Template, 2, 1, \"div\", 9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const control_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(control_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r3.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", control_r3.type)(\"formControlName\", control_r3.name)(\"value\", control_r3.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.myForm.controls[control_r3.name].hasError(\"max\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.myForm.controls[control_r3.name].hasError(\"min\"));\n  }\n}\nfunction InputFormComponent_label_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\");\n    i0.ɵɵtemplate(1, InputFormComponent_label_4_label_1_Template, 10, 7, \"label\", 3);\n    i0.ɵɵelementStart(2, \"button\", 4);\n    i0.ɵɵtext(3, \"Submit\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const type_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", type_r1.values);\n  }\n}\nexport class InputFormComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.myForm = this.fb.group({});\n  }\n  ngOnChanges(changes) {\n    this.createForm(this.jsonFormData.types);\n  }\n  createForm(types) {\n    for (const type of types) {\n      for (const control of type.values) {\n        const validatorsToAdd = [];\n        for (const [key, value] of Object.entries(control.validators)) {\n          switch (key) {\n            case 'min':\n              validatorsToAdd.push(Validators.min(value));\n              break;\n            case 'max':\n              validatorsToAdd.push(Validators.max(value));\n              break;\n            case 'required':\n              if (value) {\n                validatorsToAdd.push(Validators.required);\n              }\n              break;\n            default:\n              break;\n          }\n        }\n        this.myForm.addControl(control.name, this.fb.control(control.value, validatorsToAdd));\n      }\n    }\n  }\n  onSubmit() {\n    console.log('Form valid: ', this.myForm.valid);\n    console.log('Form values: ', this.myForm.value);\n  }\n}\nInputFormComponent.ɵfac = function InputFormComponent_Factory(t) {\n  return new (t || InputFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n};\nInputFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InputFormComponent,\n  selectors: [[\"app-input-form\"]],\n  inputs: {\n    jsonFormData: \"jsonFormData\",\n    answers: \"answers\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"question-form-container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"btn\", \"btn-success\"], [1, \"choice-container\"], [1, \"name\"], [1, \"description\"], [\"required\", \"\", 3, \"type\", \"formControlName\", \"value\"], [\"class\", \"alert\", 4, \"ngIf\"], [1, \"alert\"]],\n  template: function InputFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card\", 0)(1, \"mat-card-content\")(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function InputFormComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, InputFormComponent_label_4_Template, 4, 1, \"label\", 3);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.myForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.jsonFormData == null ? null : ctx.jsonFormData.types);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i3.MatButton, i4.MatCard, i4.MatCardContent, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap)[_ngcontent-%COMP%];@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap)[_ngcontent-%COMP%];main[_ngcontent-%COMP%] {\\n  padding: 40px;\\n}\\n\\nsection[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.alert[_ngcontent-%COMP%] {\\n  width: 512px;\\n  padding: 16px;\\n  margin: 8px;\\n  max-width: 90%;\\n}\\n\\n.alert-1-primary[_ngcontent-%COMP%] {\\n  background-color: rgba(77, 77, 255, 0.05);\\n}\\n.alert-1-primary[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%] {\\n  color: #4d4dff;\\n}\\n\\n.alert-1-warning[_ngcontent-%COMP%] {\\n  background-color: rgba(255, 186, 0, 0.05);\\n}\\n.alert-1-warning[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%] {\\n  color: #ffba00;\\n}\\n\\n.alert-2-success[_ngcontent-%COMP%] {\\n  border-left: 4px solid #2ec946;\\n  background-color: rgba(46, 201, 70, 0.05);\\n}\\n.alert-2-success[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%] {\\n  color: #2ec946;\\n}\\n\\n.alert-2-secondary[_ngcontent-%COMP%] {\\n  border-left: 4px solid #666666;\\n  background-color: rgba(102, 102, 102, 0.05);\\n}\\n.alert-2-secondary[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%] {\\n  color: #666666;\\n}\\n\\n.alert-3-primary[_ngcontent-%COMP%] {\\n  border: 1px solid #cdcdff;\\n  border-radius: 8px;\\n  background-color: rgba(77, 77, 255, 0.05);\\n}\\n.alert-3-primary[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%] {\\n  color: #4d4dff;\\n}\\n\\n.alert-3-danger[_ngcontent-%COMP%] {\\n  border: 1px solid #ffb8b8;\\n  border-radius: 8px;\\n  background-color: rgba(255, 56, 56, 0.05);\\n}\\n.alert-3-danger[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%] {\\n  color: #ff3838;\\n}\\n\\n.alert-title[_ngcontent-%COMP%] {\\n  margin-top: 0;\\n  margin-bottom: 8px;\\n  font-size: 18px;\\n  font-family: \\\"Poppins\\\", sans-serif;\\n}\\n\\n.alert-content[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 14px;\\n  font-family: \\\"Open Sans\\\", sans-serif;\\n  color: #555555;\\n}\\n\\n.choice-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5rem;\\n  margin-bottom: 2rem;\\n  box-shadow: rgb(35, 34, 34) 0px 8px 24px;\\n}\\n\\n.name[_ngcontent-%COMP%] {\\n  max-width: 11rem;\\n  color: antiquewhite;\\n  line-height: 2rem;\\n  padding: 1rem 1.5rem;\\n}\\n\\n.description[_ngcontent-%COMP%] {\\n  color: antiquewhite;\\n  text-align: center;\\n  line-height: 2rem;\\n  padding: 1rem;\\n}\\n\\nli[_ngcontent-%COMP%] {\\n  list-style: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW5wdXQtZm9ybS9pbnB1dC1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBO0VBQ0UsYUFBQTtBQU5GOztBQVNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUFORjs7QUFTQTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUFORjs7QUFvQ0E7RUExQkUseUNBQUE7QUFORjtBQVFFO0VBQ0UsY0EzQlk7QUFxQmhCOztBQWlDQTtFQTlCRSx5Q0FBQTtBQUNGO0FBQ0U7RUFDRSxjQXhCWTtBQXlCaEI7O0FBOEJBO0VBMUJFLDhCQUFBO0VBQ0EseUNBQUE7QUFBRjtBQUVFO0VBQ0UsY0FoQ1k7QUFnQ2hCOztBQTBCQTtFQTlCRSw4QkFBQTtFQUNBLDJDQUFBO0FBUUY7QUFORTtFQUNFLGNBbkNjO0FBMkNsQjs7QUFzQkE7RUF6QkUseUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlDQUFBO0FBT0Y7QUFMRTtFQUNFLGNBOUNZO0FBcURoQjs7QUFpQkE7RUE3QkUseUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlDQUFBO0FBZ0JGO0FBZEU7RUFDRSxjQTVDVztBQTREZjs7QUFZQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxrQ0FBQTtBQVRGOztBQVlBO0VBQ0UsU0FBQTtFQUNBLGVBQUE7RUFDQSxvQ0FBQTtFQUNBLGNBQUE7QUFURjs7QUFjQTtFQUNFLGFBQUE7RUFDSSxtQkFBQTtFQUNKLFNBQUE7RUFDQSxtQkFBQTtFQUNFLHdDQUFBO0FBWEo7O0FBY0E7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQVhGOztBQWVBO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtBQVpGOztBQWVBO0VBQ0ksZ0JBQUE7QUFaSiIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVBvcHBpbnM6d2dodEA0MDA7NjAwJmRpc3BsYXk9c3dhcCcpO1xyXG5AaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1PcGVuK1NhbnM6d2dodEA0MDA7NjAwJmRpc3BsYXk9c3dhcCcpO1xyXG5cclxuJHByaW1hcnktY29sb3I6ICM0ZDRkZmY7XHJcbiRzZWNvbmRhcnktY29sb3I6ICM2NjY2NjY7XHJcbiRkYW5nZXItY29sb3I6ICNmZjM4Mzg7XHJcbiR3YXJuaW5nLWNvbG9yOiAjZmZiYTAwO1xyXG4kc3VjY2Vzcy1jb2xvcjogIzJlYzk0NjtcclxuXHJcbm1haW4ge1xyXG4gIHBhZGRpbmc6IDQwcHg7XHJcbn1cclxuXHJcbnNlY3Rpb24ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uYWxlcnQge1xyXG4gIHdpZHRoOiA1MTJweDtcclxuICBwYWRkaW5nOiAxNnB4O1xyXG4gIG1hcmdpbjogOHB4O1xyXG4gIG1heC13aWR0aDogOTAlO1xyXG59XHJcblxyXG5AbWl4aW4gYWxlcnQtMSgkY29sb3IpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKCRjb2xvciwgMC4wNSk7XHJcblxyXG4gIC5hbGVydC10aXRsZSB7XHJcbiAgICBjb2xvcjogJGNvbG9yO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGFsZXJ0LTIoJGNvbG9yKSB7XHJcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAkY29sb3I7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgkY29sb3IsIDAuMDUpO1xyXG5cclxuICAuYWxlcnQtdGl0bGUge1xyXG4gICAgY29sb3I6ICRjb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBhbGVydC0zKCRjb2xvcikge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0ZW4oJGNvbG9yLCAyNSUpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKCRjb2xvciwgMC4wNSk7XHJcblxyXG4gIC5hbGVydC10aXRsZSB7XHJcbiAgICBjb2xvcjogJGNvbG9yO1xyXG4gIH1cclxufVxyXG5cclxuLmFsZXJ0LTEtcHJpbWFyeSB7XHJcbiAgQGluY2x1ZGUgYWxlcnQtMSgkcHJpbWFyeS1jb2xvcik7XHJcbn1cclxuXHJcbi5hbGVydC0xLXdhcm5pbmcge1xyXG4gIEBpbmNsdWRlIGFsZXJ0LTEoJHdhcm5pbmctY29sb3IpO1xyXG59XHJcblxyXG4uYWxlcnQtMi1zdWNjZXNzIHtcclxuICBAaW5jbHVkZSBhbGVydC0yKCRzdWNjZXNzLWNvbG9yKTtcclxufVxyXG5cclxuLmFsZXJ0LTItc2Vjb25kYXJ5IHtcclxuICBAaW5jbHVkZSBhbGVydC0yKCRzZWNvbmRhcnktY29sb3IpO1xyXG59XHJcblxyXG4uYWxlcnQtMy1wcmltYXJ5IHtcclxuICBAaW5jbHVkZSBhbGVydC0zKCRwcmltYXJ5LWNvbG9yKTtcclxufVxyXG5cclxuLmFsZXJ0LTMtZGFuZ2VyIHtcclxuICBAaW5jbHVkZSBhbGVydC0zKCRkYW5nZXItY29sb3IpO1xyXG59XHJcblxyXG4uYWxlcnQtdGl0bGUge1xyXG4gIG1hcmdpbi10b3A6IDA7XHJcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxuICBmb250LWZhbWlseTogJ1BvcHBpbnMnLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4uYWxlcnQtY29udGVudCB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIHNhbnMtc2VyaWY7XHJcbiAgY29sb3I6ICM1NTU1NTU7XHJcbn1cclxuXHJcblxyXG5cclxuLmNob2ljZS1jb250YWluZXJ7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDVyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxuICAgIGJveC1zaGFkb3c6IHJnYigzNSAzNCAzNCkgMHB4IDhweCAyNHB4O1xyXG59XHJcblxyXG4ubmFtZXtcclxuICBtYXgtd2lkdGg6IDExcmVtO1xyXG4gIGNvbG9yOiBhbnRpcXVld2hpdGU7XHJcbiAgbGluZS1oZWlnaHQ6IDJyZW07XHJcbiAgcGFkZGluZzogMXJlbSAxLjVyZW07XHJcbn1cclxuXHJcblxyXG4uZGVzY3JpcHRpb257XHJcbiAgY29sb3I6IGFudGlxdWV3aGl0ZTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbGluZS1oZWlnaHQ6IDJyZW07XHJcbiAgcGFkZGluZzogMXJlbTtcclxufVxyXG5cclxubGkge1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n  changeDetection: 0\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;;ICYnDC,+BAAyE;IACvEA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,kFACF;;;;;IACAA,+BAAyE;IACvEA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,kFACF;;;;;IAXNA,6BAA2C;IAGjBA,YAAkB;IAAAA,iBAAQ;IAC9CA,gCAA2B;IAAAA,YAAyB;IAAAA,iBAAQ;IAC5DA,2BAAgG;IAChGA,mFAEM;IACNA,mFAEM;IACRA,iBAAO;;;;;IATeA,eAAkB;IAAlBA,qCAAkB;IACXA,eAAyB;IAAzBA,4CAAyB;IAC7CA,eAAqB;IAArBA,sCAAqB;IACtBA,eAAmD;IAAnDA,8EAAmD;IAGnDA,eAAmD;IAAnDA,8EAAmD;;;;;IAVjEA,6BAAgD;IAC9CA,gFAeQ;IACRA,iCAAgF;IAAAA,sBAAM;IAAAA,iBAAS;;;;IAhBpEA,eAAc;IAAdA,wCAAc;;;AD0BnD,OAAM,MAAOC,kBAAkB;EAQ7BC,YAAoBC,EAAe;IAAf,OAAE,GAAFA,EAAE;IAFf,WAAM,GAAc,IAAI,CAACA,EAAE,CAACC,KAAK,CAAC,EAAE,CAAC;EAEN;EACtCC,WAAW,CAACC,OAAsB;IAChC,IAAI,CAACC,UAAU,CAAC,IAAI,CAACC,YAAY,CAACC,KAAK,CAAC;EAC1C;EAEAF,UAAU,CAACE,KAAsB;IAC/B,KAAK,MAAMC,IAAI,IAAID,KAAK,EAAE;MACxB,KAAK,MAAME,OAAO,IAAID,IAAI,CAACE,MAAM,EAAE;QACjC,MAAMC,eAAe,GAAG,EAAE;QAC1B,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACN,OAAO,CAACO,UAAU,CAAC,EAAE;UAC7D,QAAQJ,GAAG;YACT,KAAK,KAAK;cACRD,eAAe,CAACM,IAAI,CAACpB,UAAU,CAACqB,GAAG,CAACL,KAAK,CAAC,CAAC;cAC3C;YACF,KAAK,KAAK;cACRF,eAAe,CAACM,IAAI,CAACpB,UAAU,CAACsB,GAAG,CAACN,KAAK,CAAC,CAAC;cAC3C;YACF,KAAK,UAAU;cACb,IAAIA,KAAK,EAAE;gBACTF,eAAe,CAACM,IAAI,CAACpB,UAAU,CAACuB,QAAQ,CAAC;;cAE3C;YACF;cACE;UAAM;;QAIZ,IAAI,CAACC,MAAM,CAACC,UAAU,CACpBb,OAAO,CAACc,IAAI,EACZ,IAAI,CAACtB,EAAE,CAACQ,OAAO,CAACA,OAAO,CAACI,KAAK,EAAEF,eAAe,CAAC,CAChD;;;EAGP;EAEAa,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAE,IAAI,CAACL,MAAM,CAACM,KAAK,CAAC;IAC9CF,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,IAAI,CAACL,MAAM,CAACR,KAAK,CAAC;EACjD;;;mBA9CWd,kBAAkB;AAAA;;QAAlBA,kBAAkB;EAAA6B;EAAAC;IAAAvB;IAAAwB;EAAA;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MC/B/BrC,mCAA0C;MAEXA;QAAA,OAAYsC,cAAU;MAAA,EAAC;MAChDtC,8BAAwB;MACtBA,uEAkBQ;MACVA,iBAAM;;;MArBFA,eAAoB;MAApBA,sCAAoB;MAEEA,eAAsB;MAAtBA,kFAAsB","names":["Validators","i0","InputFormComponent","constructor","fb","group","ngOnChanges","changes","createForm","jsonFormData","types","type","control","values","validatorsToAdd","key","value","Object","entries","validators","push","min","max","required","myForm","addControl","name","onSubmit","console","log","valid","selectors","inputs","answers","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\projects\\hajar\\hajar\\src\\app\\input-form\\input-form.component.ts","D:\\projects\\hajar\\hajar\\src\\app\\input-form\\input-form.component.html"],"sourcesContent":["import { Component, Input, OnChanges, SimpleChanges, ChangeDetectionStrategy } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n\ninterface JsonFormValidators {\n  min?: number;\n  max?: number;\n  required?: boolean;\n}\n\n\ninterface JsonFormControls {\n  name: string;\n  description: string;\n  value: string;\n  type: string;\n  validators: JsonFormValidators;\n}\n\ninterface JsonFormTypes {\n  name: string;\n  values: JsonFormControls[];\n}\nexport interface JsonFormData {\n  types: JsonFormTypes[];\n}\n\n@Component({\n  selector: 'app-input-form',\n  templateUrl: './input-form.component.html',\n  styleUrls: ['./input-form.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class InputFormComponent implements OnChanges {\n  @Input()\n  jsonFormData!: JsonFormData;\n\n  @Input() answers: any;\n\n  public myForm: FormGroup = this.fb.group({});\n\n  constructor(private fb: FormBuilder) {}\n  ngOnChanges(changes: SimpleChanges) {\n    this.createForm(this.jsonFormData.types);\n  }\n\n  createForm(types: JsonFormTypes[]) {\n    for (const type of types) {\n      for (const control of type.values) {\n        const validatorsToAdd = [];\n        for (const [key, value] of Object.entries(control.validators)) {\n          switch (key) {\n            case 'min':\n              validatorsToAdd.push(Validators.min(value));\n              break;\n            case 'max':\n              validatorsToAdd.push(Validators.max(value));\n              break;\n            case 'required':\n              if (value) {\n                validatorsToAdd.push(Validators.required);\n              }\n              break;\n            default:\n              break;\n          }\n        }\n  \n        this.myForm.addControl(\n          control.name,\n          this.fb.control(control.value, validatorsToAdd)\n        );\n      }\n    }\n  }\n\n  onSubmit() {\n    console.log('Form valid: ', this.myForm.valid);\n    console.log('Form values: ', this.myForm.value);\n  }\n}\n","\n\n<mat-card class=\"question-form-container\">\n  <mat-card-content>\n    <form [formGroup]=\"myForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"form-group\">\n        <label *ngFor=\"let type of jsonFormData?.types\">\n          <label *ngFor=\"let control of type.values\">\n            <li>\n              <span class=\"choice-container\">\n                <label class=\"name\">{{ control.name }}</label>\n                <label class=\"description\">{{ control.description }}</label>\n                <input [type]=\"control.type\" [formControlName]=\"control.name\" [value]=\"control.value\" required >\n                <div *ngIf=\"myForm.controls[control.name].hasError('max')\" class=\"alert\">\n                  Max required number is {{control.validators.max}}.\n                </div>\n                <div *ngIf=\"myForm.controls[control.name].hasError('min')\" class=\"alert\">\n                  Min required number is {{control.validators.min}}.\n                </div>\n              </span>\n\n            </li>\n          </label>\n          <button mat-raised-button class=\"btn btn-success\" color=\"primary\" type=\"submit\">Submit</button>\n        </label>\n      </div>\n    </form>\n\n  </mat-card-content>\n\n\n</mat-card>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}